CREATE TABLE users (
    id BIGSERIAL PRIMARY KEY NOT NULL,
    name VARCHAR(50) NOT NULL,
    email VARCHAR (50) NOT NULL UNIQUE
);

CREATE TABLE posts (
    id BIGSERIAL PRIMARY KEY NOT NULL,
    subject VARCHAR(1000) NOT NULL,
    user_id BIGINT NOT NULL,
    CONSTRAINT post_user_fk
    FOREIGN KEY (user_id) REFERENCES users(id)
    ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE comments (
    id BIGSERIAL PRIMARY KEY NOT NULL,
    reply VARCHAR(1000) NOT NULL,
    post_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    CONSTRAINT comment_post_fk
    FOREIGN KEY (post_id) REFERENCES posts(id)
    ON DELETE CASCADE ON UPDATE CASCADE,
    CONSTRAINT comment_user_fk
    FOREIGN KEY (user_id) REFERENCES users(id)
    ON DELETE CASCADE ON UPDATE CASCADE
);
